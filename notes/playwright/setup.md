# Playwright — Quick setup & config

Compact reference for clean installs, reboots, and quick debugging.

Quick commands (PowerShell)
```powershell
# scaffold (interactive)
npm init playwright@latest

# install Playwright (downloads browsers by default)
npm install playwright

# install only test runner + browsers
npm install -D @playwright/test
npx playwright install

# (re)install browser binaries
npx playwright install

# install specific browsers
npx playwright install chromium
npx playwright install firefox webkit

# skip browser download (CI)
$env:PLAYWRIGHT_SKIP_BROWSER_DOWNLOAD=1; npm install playwright

# linux deps
npx playwright install-deps

# run tests / debug
npx playwright --version
npx playwright show-browsers
npx playwright test
npx playwright test --headed
$env:PWDEBUG=1; npx playwright test
npx playwright show-report

```
Files & folders (what a clean install / scaffold creates)

Below are common files and folders you'll see after scaffolding or running tests, with a short explanation of what each one is for.

- `package.json` — project manifest: lists dependencies, devDependencies, and npm scripts (e.g., `test`, `report`). This is the single-source config for npm.
- `package-lock.json` — exact dependency tree created by npm; keeps installs reproducible across machines.
- `node_modules/` — installed npm packages. Contains Playwright and any other libraries. Do not edit this folder manually; it's recreated by `npm install`.
- `playwright.config.ts` or `playwright.config.js` — Playwright Test configuration (timeouts, projects, reporters, `testDir`, `outputDir`, global `use` settings).
- `tests/` (or example spec files like `example.spec.ts`) — your test source files. The initializer creates an example test; `testDir` in the config controls discovery.
- `playwright-report/` — HTML test report generated by the HTML reporter; open it with `npx playwright show-report`.
- `test-results/` (or the configured `outputDir`) — raw artifacts produced by runs: screenshots, traces, videos, and per-test logs used for debugging and CI uploads.
- `.gitignore` — usually contains `node_modules/`, `test-results/`, and Playwright cache paths so large binaries/artifacts are not committed.
- `.vscode/` (optional) — workspace launch/debug configs if scaffold adds editor helpers.
- `.github/workflows/` (optional) — CI workflow files added if you scaffold CI during `npm init playwright@latest`.

Browser binaries and cache (outside the project)

Playwright stores downloaded browser binaries in a user cache separate from your project so multiple projects can reuse them. Typical locations:

- Windows: `%LOCALAPPDATA%\ms-playwright\`
- macOS: `~/Library/Caches/ms-playwright/`
- Linux: `~/.cache/ms-playwright/`

Notes on maintenance

- To free disk space or force a clean install of browsers, delete the cache folder for your OS and run `npx playwright install`.
- Keep `package-lock.json` committed for reproducible CI installs.
- Do not commit `node_modules/` — rely on `npm install` from `package.json`.


Browser binaries cache (outside project)
- Windows: `%LOCALAPPDATA%\ms-playwright\`
- macOS: `~/Library/Caches/ms-playwright/`
- Linux: `~/.cache/ms-playwright/`

If browsers are missing, remove the cache and run `npx playwright install`.

Minimal `playwright.config.ts` (compact)
```ts
import { defineConfig } from '@playwright/test';

export default defineConfig({
  testDir: './tests',
  outputDir: 'test-results/',
  reporter: [['list'], ['html', { outputFolder: 'playwright-report' }]],
});
```

Common test run options (speed, fullscreen, headed)

Add to `playwright.config.*` to set defaults:
```ts
use: {
  headless: false,                 // show browser
  viewport: { width: 1920, height: 1080 },
  screenshot: 'only-on-failure',
  video: 'on-first-retry',
  trace: 'on-first-retry',
  launchOptions: { slowMo: 50, args: ['--start-maximized'] },
}
```

Notes:
- For true maximized windows set `viewport: null` and `args: ['--start-maximized']` (Chromium).
- Use `--start-fullscreen` on macOS if needed. Behavior varies by browser/OS.
- Prefer explicit `viewport` in CI for consistent visuals.
- Use `slowMo` only when debugging locally.

Run-time commands
- headed: `npx playwright test --headed`
- single project: `npx playwright test --project=chromium`
- inspector: `$env:PWDEBUG=1; npx playwright test`
- limit workers: `npx playwright test --workers=1`

Per-test overrides (example)
```ts
import { test } from '@playwright/test';

test.use({ viewport: null, launchOptions: { args: ['--start-maximized'] } });

test('example', async ({ page }) => { /* ... */ });
```

Troubleshooting (concise)
- Missing browsers: `npx playwright install`
- Missing Linux libs: `npx playwright install-deps` (requires root)
- Clean reinstall: delete Playwright cache and `npx playwright install`
- Use `PLAYWRIGHT_SKIP_BROWSER_DOWNLOAD=1` in CI then run `npx playwright install` as a separate step to control downloads

Tips
- `playwright-core` does NOT download browsers — use only if you manage binaries yourself.
- `npm init playwright@latest` is the quickest way to scaffold examples + CI config.

---
